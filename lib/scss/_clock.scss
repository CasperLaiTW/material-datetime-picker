
.c-datepicker__clock {
  display: block;
  opacity: 1;
  transform: scale(1);
  will-change: display, opacity, transform;
  transition: transform 200ms ease-in-out,
    opacity 200ms ease-in-out;
}

.c-datepicker--show-calendar:checked ~ .c-datepicker__clock {
  display: none;
  transform: scale(0.6);
  opacity: 0;
}

@mixin putOnCircle(
          $nb-items, //Number of items
          $circle-size, //Parent size
          $item-size //Item size
       ) {
  $half-item:     $item-size / 2;
  $half-parent: $circle-size / 2;

  position: relative;
  width:  $circle-size;
  height: $circle-size;
  padding: 0;
  border-radius: 50%;
  list-style: none;

  .c-datepicker__clock__num {
    display: block;
    position: absolute;
    top:  50%;
    left: 50%;
    width:  $item-size;
    height: $item-size;
    margin: -$half-item;

    $angle: 360 / $nb-items;
    $rot: 0;
    @for $i from 1 to $nb-items+1 {

      &:nth-of-type(#{$i}) {
        transform: rotate(#{$rot}deg) translate($half-parent) rotate(-#{$rot}deg);
      }

      &:nth-of-type(#{$i}) {
        &.c-datepicker__clock__num--active {
          ~ .c-datepicker__clock-hands {
            $handRot: $rot + 270;
            transform: translate(-50%, -50%) rotate(#{$handRot}deg);
            .c-datepicker__hour-hand {
              opacity: 1;
              background: rgba(0,0,0,0.05);
            }
          }
        }
        &:hover {
          ~ .c-datepicker__clock-hands {
            $handRot: $rot + 270;
            transform: translate(-50%, -50%) rotate(#{$handRot}deg);
            .c-datepicker__hour-hand {
              opacity: 1;
              background: $primary
            }
          }
        }
      }
      $rot: $rot + $angle;
    }
  }
}


.c-datepicker__clock {
  @include putOnCircle(12, 200px, 36px);
  font-size: 14px;
  line-height: 36px;
  padding: 160px 0 20px 0;
  margin: 0 auto;
  position: relative;

  &::before {
    content: "";
    position: absolute;
    top: 70px;
    left: -20px;
    width: 240px;
    height: 240px;
    background: rgba(0, 0, 0, 0.05);
    border-radius: 50%;
  }
}

.c-datepicker__day-body, .c-datepicker__clock__num {
  @extend .u-hover-ball-effect;

  &--active {
    &:before {
      background: rgba(0, 0, 0, 0.05);
      width: 35px;
      height: 35px;
      z-index: -1;
    }
  }
}

.c-datepicker__clock-hands {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) rotate(180deg);
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: $lowlight;
}

.c-datepicker__hour-hand {
  position: absolute;
  opacity: 0;
  height: 78px;
  width: 2px;
  background: $primary;
  left: 4px;
  top: 10px;
}

.c-datepicker__clock__minutes {
  visibility: hidden;
  transform: translateY(30px) scale(0.6);
  opacity: 0;
}

.c-datepicker__clock__hours {

}

.c-datepicker__clock--show-minutes {
  .c-datepicker__clock__minutes {
    visibility: visible;
  }
  .c-datepicker__clock__hours {
    visibility: hidden;
  }
}

.c-datepicker__clock--show-hours {
  .c-datepicker__clock__minutes {
    visibility: hidden;
  }
  .c-datepicker__clock__hours {
    visibility: visible;
  }
}

.c-datepicker__clock__am-pm-toggle {
  position: absolute;
  top: 0;
  left: 10px;
  right: 10px;
  height: 40px;
  padding: 20px;
  line-height: 40px;

  label {
    width: 40px;
    position: absolute;
    &:nth-child(1) {
      left: 0;
    }
    &:nth-child(2) {
      right: 0;
    }
    @extend .u-hover-ball-effect;

    &.c-datepicker__toggle--checked::after {
      content: "";
      position: absolute;
      left: 50%;
      top: 50%;
      width: 0%;
      height: 0%;
      border-radius: 50%;
      transform: translate(-50%, -50%);
      width: 36px;
      height: 36px;
      z-index: -1;
      background: rgba(0, 0, 0, 0.05);
    }
  }
}
